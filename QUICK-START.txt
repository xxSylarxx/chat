â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âš¡ GUÃA RÃPIDA - DEPLOYMENT A PRODUCCIÃ“N
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ PASO 1: PREPARAR ARCHIVOS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Copia toda la carpeta "chat" al servidor de producciÃ³n
2. UbicaciÃ³n recomendada:
   - Windows: C:\inetpub\chat
   - Linux: /var/www/chat

ğŸ”§ PASO 2: INSTALAR DEPENDENCIAS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
cd /ruta/a/chat
npm install --production
npm install -g pm2

âš™ï¸  PASO 3: CONFIGURAR VARIABLES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
A. En ecosystem.config.js (lÃ­nea ~23):
   env_production: {
     PORT: 7000,
     PUBLIC_IP: 'TU-IP-PRODUCCION'  â† CAMBIAR AQUÃ
   }

B. En tu config PHP (ej: config/autoload/local.php):
   define('SOCKET_URL', 'http://TU-IP:7000');

C. En server.js (lÃ­nea ~8) - IMPORTANTE para CORS:
   origin: ["http://TU-DOMINIO", "https://TU-DOMINIO"],
   // NO dejar como "*" en producciÃ³n

ğŸ”¥ PASO 4: ABRIR FIREWALL
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Windows:
  netsh advfirewall firewall add rule name="Chat" dir=in action=allow protocol=TCP localport=7000

Linux:
  sudo ufw allow 7000/tcp

ğŸš€ PASO 5: INICIAR CON PM2
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Windows:
  - Doble clic en deploy.bat
  - Elegir opciÃ³n 2 (ProducciÃ³n)

Linux/Mac:
  chmod +x deploy.sh
  ./deploy.sh
  (Elegir opciÃ³n 2)

Manual:
  pm2 start ecosystem.config.js --env production
  pm2 save
  pm2 startup

âœ… PASO 6: VERIFICAR
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. Ver estado:
   pm2 status

2. Ver logs:
   pm2 logs chat-server

3. Probar endpoint:
   http://TU-IP:7000/health

   Debe responder:
   {"status":"ok","users":0,"rooms":0,"timestamp":"..."}

4. Probar desde la aplicaciÃ³n PHP:
   http://TU-DOMINIO/seguridad/chat

ğŸ“Š COMANDOS ÃšTILES PM2
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
pm2 status                    # Ver estado
pm2 logs chat-server          # Ver logs en vivo
pm2 restart chat-server       # Reiniciar
pm2 stop chat-server          # Detener
pm2 monit                     # Monitor en tiempo real
pm2 save                      # Guardar configuraciÃ³n
pm2 startup                   # Auto-inicio al arrancar servidor

ğŸ”„ ACTUALIZAR EN PRODUCCIÃ“N
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. pm2 stop chat-server
2. # Copiar archivos nuevos o hacer git pull
3. npm install --production
4. pm2 restart chat-server

O sin downtime:
  pm2 reload chat-server

ğŸ†˜ SOLUCIÃ“N PROBLEMAS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ No inicia:
  pm2 logs chat-server --err

â€¢ Puerto ocupado:
  netstat -ano | findstr :7000     (Windows)
  lsof -i :7000                     (Linux)

â€¢ No conectan clientes:
  1. Verificar firewall
  2. Revisar CORS en server.js
  3. Probar: curl http://localhost:7000/health

â€¢ Ver logs detallados:
  pm2 show chat-server

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“– GuÃ­a completa: Ver DEPLOY.md
ğŸ”— README: Ver README.md
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
